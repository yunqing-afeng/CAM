#初始化
scoreboard players reset @s CNC_tag_out
scoreboard players reset @s CNC_craftag
#设置id
scoreboard players set @s CNC_tag_id 1
#tag检测
function cnc:machine/crafting_table/tag
execute if score @s CNC_craftag matches 3 run scoreboard players set @s CNC_tag_out 1

execute if block ~ ~ ~ minecraft:barrel{Items:[{Slot:1b},{Slot:2b},{Slot:3b}]} if entity @s[scores={CNC_table_count=3,CNC_tag_out=1}] run item replace block ~ ~ ~ container.16 with wooden_sword{id:"cam:wooden_long_rod",CustomModelData:9102020,AttributeModifiers:[{AttributeName:"generic.attackDamage",Amount:2,Name:"CAM",UUIDLeast:1,UUIDMost:1,UUID:[I;454,131,484741,14545],Slot:mainhand,Operation:0},{AttributeName:"generic.attackSpeed",Amount:-2.8,Name:"CAM",UUIDLeast:1,UUIDMost:1,UUID:[I;456456,564541,14,164],Slot:mainhand,Operation:0},{AttributeName:"generic.attack_damage",Amount:2,Name:"CAM",UUIDLeast:1,UUIDMost:1,UUID:[I;454,131,484741,14545],Slot:mainhand,Operation:0},{AttributeName:"generic.attack_speed",Amount:-2.8,Name:"CAM",UUIDLeast:1,UUIDMost:1,UUID:[I;456456,564541,14,164],Slot:mainhand,Operation:0}],display:{Lore:["{\"translate\":\"item.modifiers.mainhand\",\"color\":\"gray\",\"italic\":false}","{\"translate\":\"attribute.modifier.equals.0\",\"with\":[{\"text\":3},{\"translate\":\"attribute.name.generic.attackDamage\"}],\"color\":\"dark_green\",\"italic\":false}","{\"translate\":\"attribute.modifier.equals.0\",\"with\":[{\"text\":1.2},{\"translate\":\"attribute.name.generic.attackSpeed\"}],\"color\":\"dark_green\",\"italic\":false}"],Name:"{\"translate\":\"item.cam.wooden_long_rod\",\"italic\":false}"},HideFlags:2,RodModeShift:1b,CAM_rod:1b,id:"cam:wooden_long_rod",Output:1b}
execute if block ~ ~ ~ minecraft:barrel{Items:[{Slot:10b},{Slot:11b},{Slot:12b}]} if entity @s[scores={CNC_table_count=3,CNC_tag_out=1}] run item replace block ~ ~ ~ container.16 with wooden_sword{id:"cam:wooden_long_rod",CustomModelData:9102020,AttributeModifiers:[{AttributeName:"generic.attackDamage",Amount:2,Name:"CAM",UUIDLeast:1,UUIDMost:1,UUID:[I;454,131,484741,14545],Slot:mainhand,Operation:0},{AttributeName:"generic.attackSpeed",Amount:-2.8,Name:"CAM",UUIDLeast:1,UUIDMost:1,UUID:[I;456456,564541,14,164],Slot:mainhand,Operation:0},{AttributeName:"generic.attack_damage",Amount:2,Name:"CAM",UUIDLeast:1,UUIDMost:1,UUID:[I;454,131,484741,14545],Slot:mainhand,Operation:0},{AttributeName:"generic.attack_speed",Amount:-2.8,Name:"CAM",UUIDLeast:1,UUIDMost:1,UUID:[I;456456,564541,14,164],Slot:mainhand,Operation:0}],display:{Lore:["{\"translate\":\"item.modifiers.mainhand\",\"color\":\"gray\",\"italic\":false}","{\"translate\":\"attribute.modifier.equals.0\",\"with\":[{\"text\":3},{\"translate\":\"attribute.name.generic.attackDamage\"}],\"color\":\"dark_green\",\"italic\":false}","{\"translate\":\"attribute.modifier.equals.0\",\"with\":[{\"text\":1.2},{\"translate\":\"attribute.name.generic.attackSpeed\"}],\"color\":\"dark_green\",\"italic\":false}"],Name:"{\"translate\":\"item.cam.wooden_long_rod\",\"italic\":false}"},HideFlags:2,RodModeShift:1b,CAM_rod:1b,id:"cam:wooden_long_rod",Output:1b}
execute if block ~ ~ ~ minecraft:barrel{Items:[{Slot:19b},{Slot:20b},{Slot:21b}]} if entity @s[scores={CNC_table_count=3,CNC_tag_out=1}] run item replace block ~ ~ ~ container.16 with wooden_sword{id:"cam:wooden_long_rod",CustomModelData:9102020,AttributeModifiers:[{AttributeName:"generic.attackDamage",Amount:2,Name:"CAM",UUIDLeast:1,UUIDMost:1,UUID:[I;454,131,484741,14545],Slot:mainhand,Operation:0},{AttributeName:"generic.attackSpeed",Amount:-2.8,Name:"CAM",UUIDLeast:1,UUIDMost:1,UUID:[I;456456,564541,14,164],Slot:mainhand,Operation:0},{AttributeName:"generic.attack_damage",Amount:2,Name:"CAM",UUIDLeast:1,UUIDMost:1,UUID:[I;454,131,484741,14545],Slot:mainhand,Operation:0},{AttributeName:"generic.attack_speed",Amount:-2.8,Name:"CAM",UUIDLeast:1,UUIDMost:1,UUID:[I;456456,564541,14,164],Slot:mainhand,Operation:0}],display:{Lore:["{\"translate\":\"item.modifiers.mainhand\",\"color\":\"gray\",\"italic\":false}","{\"translate\":\"attribute.modifier.equals.0\",\"with\":[{\"text\":3},{\"translate\":\"attribute.name.generic.attackDamage\"}],\"color\":\"dark_green\",\"italic\":false}","{\"translate\":\"attribute.modifier.equals.0\",\"with\":[{\"text\":1.2},{\"translate\":\"attribute.name.generic.attackSpeed\"}],\"color\":\"dark_green\",\"italic\":false}"],Name:"{\"translate\":\"item.cam.wooden_long_rod\",\"italic\":false}"},HideFlags:2,RodModeShift:1b,CAM_rod:1b,id:"cam:wooden_long_rod",Output:1b}